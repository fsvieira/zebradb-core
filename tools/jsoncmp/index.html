<html>
    <head>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.slim.min.js"></script>
        <style>
            .editor {
                width: 33.3333%;
                height: 100vh;
                border: 1px solid #333;
                float: left;
                box-sizing: border-box;
                overflow: auto;
            }
            
            body {
                padding: 0;
                border: 0;
                margin: 0;
            }
        </style>
        
        <script>
            $(document).ready(function () {
                $('body').on('focus', '[contenteditable]', function() {
                    var $this = $(this);
                    $this.data('before', $this.html());
                        return $this;
                    }).on('blur keyup paste input', '[contenteditable]', function() {
                    var $this = $(this);
                    if ($this.data('before') !== $this.html()) {
                        $this.data('before', $this.html());
                        $this.trigger('change');
                    }
                    return $this;
                });
                
                $(".editor").on("change", function (event) {
                    var data = $(event.target).text().replace(/<br>/gi, "").replace(/ \t\n/gi, "");
                    console.log(data);
                    $(event.target).html(JSON.stringify(JSON.parse(data), null, "\t").replace(/\n/gi, "<br>").replace(/\t/gi, "&nbsp;&nbsp;&nbsp;&nbsp;"));
                })
            });
        </script>
        
        <!-- TODO: Make this a independent project on github, use angular2! -->
        
    </head>
    <body>
        <div class='editor' contenteditable='true'></div>
        <div class='editor' contenteditable='true'></div>
        <div class='editor' contenteditable='true'></div>
    </body>
</html>